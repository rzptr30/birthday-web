<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Happy Birthday, Adellia! ğŸ«¶ğŸ»ğŸ‚âœ¨</title>
  <meta name="description" content="Situs mini untuk merayakan ulang tahun kamu. Dibuat penuh cinta ğŸ’–" />

  <!-- Fonts & CSS -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">

  <!-- perbaikan path CSS -->
  <link rel="stylesheet" href="./src/css/styles.css">
</head>
<body>

  <!-- Modal Konfirmasi -->
<div id="confirmationModal" class="modal hidden">
  <div class="modal-content">
    <p>Apakah kamu yakin ingin mengambil gambar?</p>
    <button id="btnConfirm" class="btn">OK</button>
    <button id="btnCancel" class="btn">Cancel</button>
  </div>
</div>

<!-- Timer Countdown -->
<div id="timer" class="timer hidden">00:00</div>



  <!-- ===== HERO ===== -->
  <header>
    <div class="halo" aria-hidden="true"></div>
    <div class="hero" role="banner">
      <div class="badge">ğŸ‰ Ulang Tahun Ke- <span id="age">?</span> â€¢ <span id="dateLbl">â€”</span></div>
      <h1>Happy Birthday, <span class="love" id="name">Sayang</span>! ğŸ’–</h1>
      <p class="sub">Terima kasih sudah hadir dan mewarnai hariku. Ini hadiah kecil: satu halaman yang hanya untuk kamu. âœ¨</p>

      <div class="countdown" id="countdown" aria-label="Hitung mundur ke hari H"></div>

      <div class="cta">
        <button class="btn primary" id="btnPlay">â–¶ï¸ Putar Musik</button>
        <!-- Tombol Lihat Kenangan diganti menjadi Kenangan Kita -->
        <button class="btn" onclick="document.getElementById('pastMemories').scrollIntoView({behavior:'smooth'})">Kenangan Kita ğŸ“·</button>
        <!-- Shortcut untuk langsung ke photo booth -->
        <button class="btn primary" id="btnGoToBooth">Mulai Foto Booth ğŸ“¸</button>

      </div>

      <div class="stats">
        <div class="chip">â¤ï¸ <span id="daysTogether">0</span> hari sejak kenal</div>
        <div class="chip">ğŸ’ <span id="daysDating">0</span> hari sejak jadian</div>
      </div>
    </div>
  </header>

  <main>
    <!-- ===== ABOUT ===== -->
    <section class="section" id="about">
      <div class="card grid cols-2">
        <div>
          <h2>Surat Kecil Untukmu</h2>
          <p id="loveNote">Hari ini spesial, sama seperti dirimu. Semoga semua doa terbaik mengiringi langkahmu. Aku bangga sama kamuâ€”terus bersinar, ya! ğŸŒŸ</p>
          <p class="muted">Scroll terus yaâ€”ada galeri, alasan kenapa kamu spesial, Abadikan Momen, dan surat kecil untuk masa depan kita. ğŸ˜Š</p>
        </div>
        <div>
          <h2>Detail Hari-H</h2>
          <p><b>Tanggal:</b> <span id="dateText">â€”</span><br/>
             <b>Lokasi:</b> Cafe favorit / Rumah<br/>
             <b>Dress code:</b> Casual pastel</p>
        </div>
      </div>
    </section>


    <!-- ===== KENANGAN YANG SUDAH LEWAT ===== -->
<section class="section" id="pastMemories">
  <div class="card">
    <h2>Kenangan Kita</h2>
    <div class="memories-container">
      <!-- Memory 1 -->
      <div class="memory-item">
        <img src="assets/kenangan1.jpg" alt="Kenangan 1">
        <p>Ini adalah kenangan indah pertama kita. Waktu itu, kita bersama di tempat yang sangat spesial.</p>
      </div>
      <!-- Memory 2 -->
      <div class="memory-item">
        <img src="assets/kenangan2.jpg" alt="Kenangan 2">
        <p>Kenangan kedua, saat kita merayakan hal-hal kecil bersama. Momen ini sangat berkesan di hati.</p>
      </div>
      <!-- Tambahkan lebih banyak kenangan jika diperlukan -->
    </div>
  </div>
</section>


    <!-- ===== REASONS ===== -->
    <section class="section" id="reasons">
      <div class="card">
        <h2>10 Hal yang Aku Suka dari Kamu ğŸ’—</h2>
        <div class="reasons" id="reasonsList"></div>
      </div>
    </section>

    <!-- ===== ABADIKAN MOMEN â€“ 3 FRAME ===== -->
    <section class="section" id="frame">
      <div class="card">
        <h2>Abadikan Momen ğŸ“¸</h2>
        <p class="muted">Ambil foto via kamera atau unggah 3 foto, lalu gabungkan ke template.</p>

        <!-- Pilihan alur -->
        <div class="choices" id="choiceRow">
          <button class="btn primary" id="btnCamFlow">Ambil Foto (Kamera)</button>
          <button class="btn" id="btnUploadFlow">Upload 3 Foto</button>
        </div>

        <!-- â€”â€” FLOW KAMERA â€”â€” -->
        <section id="boothWrap" class="booth hidden" aria-hidden="true">
          <div class="booth-left">
            <div class="video-box">
              <video id="cam" playsinline autoplay muted></video>
              <!-- canvas panduan (id: camGuide) dibuat via JS -->
            </div>

            <div class="booth-ctrl">
              <button class="btn primary" id="btnStartCam">Nyalakan Kamera</button>

              <div class="timer-row">
                <label for="shotTimer" class="muted">Timer:</label>
                <select id="shotTimer" class="btn btn-ghost">
                  <option value="0">Off</option>
                  <option value="3">3s</option>
                  <option value="5" selected>5s</option>
                  <option value="10">10s</option>
                </select>
              </div>

              <button class="btn" id="btnShot" disabled>Ambil Foto</button>
              <button class="btn" id="btnReset" disabled>Reset</button>
              <button class="btn" id="btnConfirmCam" disabled>Lanjutkan</button>
            </div>
          </div>

          <div class="booth-right">
            <div id="slotGrid" class="thumbs">
              <canvas class="slot" data-i="0" width="240" height="176"></canvas>
              <canvas class="slot" data-i="1" width="240" height="176"></canvas>
              <canvas class="slot" data-i="2" width="240" height="176"></canvas>
            </div>
            <p class="muted small">Klik salah satu foto untuk mengganti (retake) jika perlu.</p>
          </div>
        </section>

        <!-- â€”â€” FLOW UPLOAD â€”â€” -->
        <section id="uploadWrap" class="booth hidden" aria-hidden="true">
          <div class="booth-left">
            <input type="file" id="files3" accept="image/*" multiple />
            <div class="booth-ctrl">
              <button class="btn" id="btnClearUpload">Bersihkan Pilihan</button>
              <button class="btn primary" id="btnConfirmUpload" disabled>Lanjutkan</button>
            </div>
          </div>
          <div class="booth-right">
            <div id="uploadGrid" class="thumbs">
              <canvas class="upslot" data-i="0" width="240" height="176"></canvas>
              <canvas class="upslot" data-i="1" width="240" height="176"></canvas>
              <canvas class="upslot" data-i="2" width="240" height="176"></canvas>
            </div>
            <p class="muted small">Pilih tepat <b>3</b> foto. Klik slot untuk mengganti satu foto.</p>
          </div>
        </section>

        <!-- Dialog konfirmasi -->
        <dialog id="confirmDlg">
          <p>Sudah yakin dengan pilihan fotonya?</p>
          <form method="dialog">
            <button class="btn">Batal</button>
            <button class="btn primary" value="ok">Ya, lanjut</button>
          </form>
        </dialog>

        <!-- Hasil komposit -->
        <section id="resultWrap" class="result hidden" aria-hidden="true">
          <div class="preview">
            <canvas id="frameCanvas" aria-label="hasil 3-frame"></canvas>
          </div>
          <div class="booth-ctrl">
            <a class="btn primary" id="btnDownload" download="moment-3frame.png" href="#" style="opacity:.6;pointer-events:none">Download</a>
            <button class="btn" id="btnBackChoose">Kembali</button>
          </div>
          <p class="muted small">Template: <code>assets/overlays/Template-Foto.png</code> (area hitam transparan).</p>
        </section>
      </div>
    </section>

<!-- Ucapan ulang tahun yang bisa diklik -->
<section class="section" id="letter">
  <div class="card">
    <h2>Ucapan Ulang Tahun ğŸ‰</h2>
    <p class="clickable" id="birthdayMessage">Klik untuk melihat ucapan spesial dari aku! ğŸ‚</p>
  </div>
</section>

<!-- Dialog Ucapan -->
<dialog id="birthdayDialog">
  <div class="dialog-content">
    <p>Selamat ulang tahun, Sayang! ğŸ‰ Semoga hari ini penuh kebahagiaan, dan tahun yang akan datang membawa semua impianmu menjadi kenyataan. Aku sangat bersyukur bisa merayakan hari ini denganmu. Cinta selalu! â¤ï¸</p>
    <button id="btnCopy" class="btn">Salin Ucapan</button>
    <button id="btnCloseDialog" class="btn">Tutup</button>
  </div>
</dialog>

  </main>

  <footer> Dibuat dengan â¤ï¸ </footer>

  <!-- audio -->
  <audio id="bgm" preload="auto" loop src="assets/audio/penjaga-hati.mp3"></audio>

  <!-- Gate (tanggal spesial) -->
  <div id="gate" style="position:fixed;inset:0;background:#0b1022;display:none;align-items:center;justify-content:center;z-index:9999">
    <div class="card" style="max-width:420px;margin:16px;text-align:center">
      <h2>Hi, ini khusus buat kamu ğŸ’</h2>
      <p class="muted">Masukkan <b>tanggal spesial</b> kita (<i>angka saja</i>).</p>
      <input id="gateInput" inputmode="numeric" pattern="[0-9]*"
             aria-label="Tanggal spesial (angka saja)"
             style="width:100%;background:#0b1220;border:1px solid #334155;border-radius:12px;padding:12px;color:#e5e7eb;margin-top:10px"/>
      <button class="btn primary" id="gateBtn" style="margin-top:12px">Masuk</button>
      <p class="sub" style="margin-top:10px">Hint: format <b>ddmmyy</b> (29â€†08â€†24)</p>
    </div>
  </div>

  <!-- perbaikan path JS -->
  <script src="./src/js/main.js" defer></script>
</body>
</html>
