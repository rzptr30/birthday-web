/* =========================================================
   GLOBAL TOKENS
========================================================= */
:root{
  --bg:#0f172a;
  --card:#0b1220cc;
  --card-strong:#0b1220e6;
  --soft:#1f2937;
  --text:#e5e7eb;
  --muted:#94a3b8;
  --brand:#f472b6;
  --brand-2:#60a5fa;
  --accent:#fcd34d;
}

/* =========================================================
   RESET & BASE
========================================================= */
*{ box-sizing:border-box; }
html,body{ height:100%; }
html{ scroll-behavior:smooth; }
body{
  margin:0;
  font-family:Poppins,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;
  color:var(--text);
  overflow-x:hidden;
  position:relative;
  background:none; /* hilangkan background solid / gradien lama */
  min-height:100vh;
}

/* Foto latar blur (seluruh halaman) */
body::before{
  content:"";
  position:fixed; inset:0;
  z-index:-2;
  background:url("../../assets/bg-web.png") center center / cover no-repeat;
  filter:blur(14px) brightness(.9);
  transform:scale(1.04); /* hindari tepi blur transparan */
}

/* Overlay gelap tipis di atas foto supaya teks kontras */
body::after{
  content:"";
  position:fixed; inset:0;
  z-index:-2;
  background:rgba(0,0,0,.25);
}

a{ color:inherit; text-decoration:none; }
img{ display:block; max-width:100%; height:auto; }

/* Kanvas efek berada di atas background tetapi di bawah konten */
#hearts,#confetti{
  position:fixed; inset:0;
  pointer-events:none;
  z-index:-1;
  width:100vw; height:100vh;
}

/* =========================================================
   HEADER / HERO
========================================================= */
header{
  position:relative;
  min-height:100dvh;
  display:grid;
  place-items:center;
  padding:72px 16px 32px;
  text-align:center;
}

.halo{ display:none; }

.hero{
  position:relative;
  z-index:1;
  max-width:920px;
  width:100%;
  background:linear-gradient(180deg,var(--card-strong),#0b1022e6);
  border:1px solid #334155;
  border-radius:40px;
  padding:36px 24px 54px;
  box-shadow:0 12px 40px -12px rgba(0,0,0,.5);
  backdrop-filter:blur(6px);
}

.badge{
  display:inline-flex;
  align-items:center;
  gap:8px;
  padding:8px 18px;
  border:1px solid #334155;
  border-radius:999px;
  font-size:.78rem;
  letter-spacing:.3px;
  background:#0b1220;
  color:#cbd5e1;
}

h1{
  font-size:clamp(28px,4.2vw,44px);
  margin:16px 0 10px;
  line-height:1.15;
  font-weight:700;
}

.love{
  background:linear-gradient(90deg,var(--brand),var(--accent));
  -webkit-background-clip:text;
  color:transparent;
}

.sub{
  max-width:760px;
  margin:12px auto 0;
  font-weight:300;
  line-height:1.55;
  color:#cbd5e1;
  text-shadow:0 1px 2px #0008;
}

/* =========================================================
   TIMERS / COUNTDOWN
========================================================= */
.timers.split{
  display:grid;
  gap:32px;
  margin-top:26px;
}

.timer-col{
  display:flex;
  flex-direction:column;
  align-items:center;
}

.title-col{
  font-weight:600;
  letter-spacing:.3px;
  color:var(--muted);
  font-size:.8rem;
  text-transform:uppercase;
}

.countdown{
  display:flex;
  gap:10px;
  flex-wrap:wrap;
  justify-content:center;
  margin-top:10px;
}

.dd{
  min-width:74px;
  text-align:center;
  padding:10px 8px;
  border-radius:12px;
  background:#0b1220;
  border:1px solid #334155;
}

.dd b{ font-size:22px; display:block; }
.dd span{ display:block; font-size:11px; color:var(--muted); margin-top:4px; }

@media(min-width:900px){
  .timers.split{
    grid-template-columns:1fr 1fr;
    align-items:start;
    justify-items:center;
  }
}

/* =========================================================
   CTA BUTTONS
========================================================= */
.cta{
  display:flex;
  flex-wrap:wrap;
  gap:18px;
  margin-top:34px;
  justify-content:center;
}

.btn{
  background:#0b1220;
  border:1px solid #334155;
  color:#e2e8f0;
  padding:12px 20px;
  border-radius:12px;
  font-weight:600;
  font-size:.9rem;
  cursor:pointer;
  display:inline-flex;
  align-items:center;
  gap:6px;
  transition:transform .15s ease, background .25s ease, opacity .25s ease;
}

.btn:hover{ transform:translateY(-2px); background:#0f172a; }

.btn.primary{
  background:linear-gradient(90deg,var(--brand),var(--brand-2));
  color:#fff;
  border:none;
}

.btn:disabled{
  opacity:.45;
  cursor:not-allowed;
  transform:none;
}

/* =========================================================
   SECTIONS / CARDS / TYPO
========================================================= */
.section{
  max-width:1000px;
  margin:64px auto;
  padding:0 16px;
}

.card{
  background:var(--card);
  border:1px solid #334155;
  border-radius:24px;
  padding:24px;
  backdrop-filter:blur(6px);
  box-shadow:0 10px 30px -10px rgba(0,0,0,.35);
}

h2{
  font-size:clamp(22px,3vw,30px);
  margin:0 0 14px;
  font-weight:600;
  letter-spacing:.3px;
}

p{ color:#e2e8f0; line-height:1.55; }
.muted{ color:var(--muted); }
.small{ font-size:.85rem; }

.grid{ display:grid; gap:16px; }
@media(min-width:720px){ .grid.cols-2{ grid-template-columns:1fr 1fr; } }

/* =========================================================
   GALLERY STORIES
========================================================= */
.gallery-stories{
  display:grid;
  gap:16px;
  grid-template-columns:repeat(auto-fit,minmax(220px,1fr));
  margin-top:14px;
}

.story{
  background:linear-gradient(180deg,#141a2b,#0b1022);
  border:1px solid #334155;
  border-radius:16px;
  overflow:hidden;
  display:flex;
  flex-direction:column;
}

.story img{
  width:100%;
  aspect-ratio:1/1;
  object-fit:cover;
  filter:saturate(1.05);
}

.story figcaption{
  padding:10px 12px 12px;
  font-size:.78rem;
  line-height:1.35;
  color:#cbd5e1;
  background:#0b1220;
  border-top:1px solid #334155;
  flex-grow:1;
}

/* =========================================================
   PHOTO BOOTH (3 SLOT)
========================================================= */
.hidden{ display:none !important; }

.choices{
  display:flex;
  gap:12px;
  flex-wrap:wrap;
  margin:16px 0 10px;
  justify-content:center;
}

.booth{
  display:grid;
  gap:20px;
  grid-template-columns:1.15fr 1fr;
  background:var(--card);
  border:1px solid #334155;
  border-radius:24px;
  padding:20px;
  backdrop-filter:blur(6px);
}

@media (max-width:900px){
  .booth{ grid-template-columns:1fr; }
}

.booth-left{ display:grid; gap:16px; align-content:start; }
.booth-right{ display:grid; gap:12px; align-content:start; }

.video-wrap{
  position:relative;
  width:100%;
  max-width:420px;
  aspect-ratio:3/4;
  background:#0b1220;
  border:1px solid #334155;
  border-radius:18px;
  overflow:hidden;
}

.video-wrap video{
  width:100%; height:100%;
  object-fit:cover;
  display:block;
  transition:transform .3s;
}

.video-wrap.mirrored video{ transform:scaleX(-1); }

/* Overlay countdown */
#countOverlay{
  position:absolute; inset:0;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:clamp(48px,10vw,110px);
  font-weight:700;
  color:#fff;
  text-shadow:0 4px 16px rgba(0,0,0,.6);
  opacity:0;
  pointer-events:none;
  transition:opacity .25s;
  background:radial-gradient(circle at center,rgba(0,0,0,.35),rgba(0,0,0,.55));
}

/* Flash / Shake effect */
.flash-effect{ animation:flash .25s ease; }
@keyframes flash{
  0%{ filter:brightness(1); }
  40%{ filter:brightness(1.8); }
  100%{ filter:brightness(1); }
}
.shake-effect{ animation:shake .25s ease; }
@keyframes shake{
  0%,100%{ transform:translate(0,0); }
  20%{ transform:translate(3px,0); }
  40%{ transform:translate(-3px,0); }
  60%{ transform:translate(2px,0); }
  80%{ transform:translate(-2px,0); }
}

.booth-ctrl{
  display:flex;
  gap:10px;
  flex-wrap:wrap;
  align-items:center;
}

.thumbs{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(140px,1fr));
  gap:12px;
  margin-top:4px;
}

.slot,.upslot{
  width:100%; height:auto;
  aspect-ratio:3/4;
  border:1px dashed #334155;
  border-radius:12px;
  background:#0b1220;
  transition:outline .25s ease, box-shadow .25s;
  cursor:pointer;
}

.slot.captured:hover,
.upslot:hover{
  outline:2px solid var(--brand-2);
  box-shadow:0 0 0 2px var(--brand-2);
}

.result{
  background:var(--card);
  border:1px solid #334155;
  border-radius:24px;
  padding:20px;
  margin-top:20px;
}

.preview{
  position:relative;
  border:1px dashed #334155;
  border-radius:16px;
  background:#0b1220;
  overflow:hidden;
  min-height:280px;
  display:grid;
  place-items:center;
  max-width:480px;
  margin:0 auto 12px;
}

#frameCanvas{
  width:100%; height:auto;
  display:block;
  border-radius:16px;
  background:#0b1220;
}

.confirm-actions{
  display:flex;
  gap:12px;
  justify-content:flex-end;
  flex-wrap:wrap;
  margin-top:4px;
}

/* =========================================================
   DIALOGS (Konfirmasi, Retake, Ucapan)
========================================================= */
dialog{
  border:none;
  border-radius:22px;
  background:#101827;
  color:#e2e8f0;
  padding:24px 22px 20px;
  width:min(92vw,440px);
  box-shadow:0 30px 60px -12px rgba(0,0,0,.7);
}

dialog::backdrop{
  background:rgba(0,0,28,.58);
  backdrop-filter:blur(5px);
}

dialog p{ margin:0 0 14px; color:#cbd5e1; line-height:1.45; }

/* Popup ucapan spesial (paper) */
.paper{
  padding:0;
  border:none;
  background:transparent;
  width:100%;
  max-width:580px;
}

.paper::backdrop{
  background:rgba(0,0,15,.55);
  backdrop-filter:blur(4px);
}

.paper-inner{
  background:linear-gradient(180deg,#121a2cf0,#0b1220f0);
  backdrop-filter:blur(6px);
  color:#e2e8f0;
  border-radius:24px;
  padding:30px 30px 26px;
  border:1px solid #334155;
  box-shadow:0 26px 60px -14px rgba(0,0,0,.65);
  font-size:15px;
  line-height:1.6;
  position:relative;
}

.paper-inner h3{
  margin:0 0 16px;
  font-size:21px;
  font-weight:700;
  background:linear-gradient(90deg,#f472b6 0%,#a78bfa 45%,#60a5fa 100%);
  -webkit-background-clip:text;
  color:transparent;
  text-shadow:0 2px 10px rgba(96,165,250,.28);
  letter-spacing:.5px;
}

.paper-inner p{
  white-space:pre-line;
  margin:0 0 24px;
  font-weight:400;
}

.paper-actions{
  display:flex;
  gap:12px;
  flex-wrap:wrap;
}

.paper-actions.single{ justify-content:center; }

.paper-actions .btn{
  background:#0e1624;
  border:1px solid #334155;
  color:#fff;
  box-shadow:0 4px 14px -4px rgba(0,0,0,.55);
}

.paper-actions .btn.primary{
  background:linear-gradient(90deg,var(--brand),var(--brand-2));
  border:none;
  box-shadow:0 4px 18px -4px rgba(96,165,250,.55);
}

/* =========================================================
   FOOTER
========================================================= */
footer{
  text-align:center;
  padding:40px 16px 80px;
  font-size:.8rem;
  color:var(--muted);
}


/* =========================================================
   RESPONSIVE & ACCESSIBILITY TWEAKS
========================================================= */
@media (max-width:600px){
  .hero{ padding:30px 18px 46px; }
  .paper-inner{ padding:26px 22px; }
  .paper-inner h3{ font-size:19px; }
  .badge{ font-size:.7rem; }
  .cta .btn{ width:100%; justify-content:center; }
  body::before{ filter:blur(10px) brightness(.92); }
}

@media (prefers-reduced-motion:reduce){
  .hero,.card,.paper-inner{ backdrop-filter:none; }
  .btn{ transition:none; }
  body::before{ filter:blur(6px) brightness(.95); }
}

/* =========================================================
   UTILITIES
========================================================= */
.text-center{ text-align:center; }
.w-full{ width:100%; }
.opacity-0{ opacity:0 !important; }
.nowrap{ white-space:nowrap; }

/* End of stylesheet */